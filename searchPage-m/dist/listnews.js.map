{"version":3,"sources":["webpack:///listnews.js","webpack:///./src/vue/list-news.vue","webpack:///list-news.vue","webpack:///./src/vue/list-news.vue?a52c"],"names":["webpackJsonp","13","module","exports","__webpack_require__","__vue_script__","__vue_template__","__esModule","default","options","template","14","_interopRequireDefault","obj","Object","defineProperty","value","_modelObj","_modelObj2","data","result","page","search","created","that","this","url","rId","hot","$http","jsonp","then","response","news","length","count","max","Math","ceil","pullLoad","methods","returnF","val","window","history","go","timer","addEventListener","loadF","clearTimeout","setTimeout","screen","availHeight","document","body","scrollTop","clientHeight","concat","removeEventListener","props","filters","tofixed","hightLight","dateSlice","15"],"mappings":"AAAAA,cAAc,IAERC,GACA,SAASC,EAAQC,EAASC,GCHhC,GAAAC,GAAAC,CACAD,GAAAD,EAAA,IACAE,EAAAF,EAAA,IACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAI,aAAAL,EAAAC,QAAAD,EAAAC,QAAAK,SACAF,KAAuB,kBAAAJ,GAAAC,QAAAD,EAAAC,QAAAM,QAAAP,EAAAC,SAAAO,SAAAJ,IDoBjBK,GACA,SAAST,EAAQC,EAASC,GAE/B,YAUA,SAASQ,GAAuBC,GAAO,MAAOA,IAAOA,EAAIN,WAAaM,GAAQL,QAASK,GARvFC,OAAOC,eAAeZ,EAAS,cAC9Ba,OAAO,GEZT,IAAAC,GAAAb,EAAA,IFiBKc,EAAaN,EAAuBK,EAIxCd,GAAQK,SACPW,KAAM,WACL,OACCC,UACAC,KEpBJ,EFqBIC,OAAQJ,EAAWV,QEnBvBc,SFsBEC,QAAS,WACR,GAAIC,GEpBPC,KFqBOC,EAAM,0CAA4CR,EAAWV,QAAQmB,IAAM,YAAcT,EAAWV,QAAQc,OAAS,oBAA2BJ,EAAWV,QEpBlKoB,GFqBGJ,GAAKK,MAAMC,MAAMJ,GAAKK,KAAK,SAAUC,GAIhCA,EAASb,KAAKc,KAAKd,KAAKe,QAAU,IAAMF,EAASb,KAAKc,KAAKE,MAAQ,KAEtEX,EAAKY,IAAMC,KAAKC,KAAKN,EAASb,KAAKc,KAAKE,MEpB7C,IFqBKX,EEpBLe,YFsBIf,EAAKJ,OAASY,EEpBlBb,MFqBM,SAAUa,OAMdQ,SACCC,QAAS,SAAiBC,GACzBC,OAAOC,QAAQC,GErBnBH,IFuBGH,SAAU,WACT,GAAIf,GErBRC,IFsBID,GAAKsB,MErBT,KFsBIH,OAAOI,iBAAiB,SAAUvB,EAAKwB,OErB3C,IFuBGA,MAAO,WACN,GAAIxB,GErBRC,IFsBQD,GAAKsB,OACRG,aAAazB,EErBlBsB,OFuBItB,EAAKsB,MAAQI,WAAW,WAEvB,GAAIP,OAAOQ,OAAOC,YAAcC,SAASC,KAAKC,WAAaF,SAASC,KAAKE,aAAe,IAEvF,GADAhC,EAAKH,MErBX,EFsBUG,EAAKH,MAAQG,EAAKY,IErB5B,CFsBO,GAAIV,GAAM,0CAA4CR,EAAWV,QAAQmB,IAAM,YAAcT,EAAWV,QAAQc,OAAS,oBAA2BJ,EAAWV,QAAQoB,IAAM,SAAWJ,EErB/LH,IFsBOG,GAAKK,MAAMC,MAAMJ,GAAKK,KAAK,SAAUC,GAEpCR,EAAKJ,OAAOa,KAAKd,KAAOK,EAAKJ,OAAOa,KAAKd,KAAKsC,OAAOzB,EAASb,KAAKc,KErB3Ed,OFsBU,SAAUa,UAMbW,QAAOe,oBAAoB,SAAUlC,EAAKwB,OErBjD,IAKA,OFsBEW,OEnBF,aFoBEC,SACCC,QAAS3C,EAAWV,QEnBvBqD,QFoBGC,WAAY5C,EAAWV,QEnB1BsD,WFoBGC,UAAW7C,EAAWV,QEjBzBuD,aF4CMC,GACA,SAAS9D,EAAQC,GGtIvBD,EAAAC,QAAA","file":"listnews.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 13:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__vue_script__ = __webpack_require__(14)\n\t__vue_template__ = __webpack_require__(15)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\n\tif (false) {(function () {  module.hot.accept()\n\t  var hotAPI = require(\"vue-hot-reload-api\")\n\t  hotAPI.install(require(\"vue\"), true)\n\t  if (!hotAPI.compatible) return\n\t  var id = \"G:\\\\webpack\\\\search-m\\\\src\\\\vue\\\\list-news.vue\"\n\t  if (!module.hot.data) {\n\t    hotAPI.createRecord(id, module.exports)\n\t  } else {\n\t    hotAPI.update(id, module.exports, __vue_template__)\n\t  }\n\t})()}\n\n/***/ },\n\n/***/ 14:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _modelObj = __webpack_require__(12);\n\t\n\tvar _modelObj2 = _interopRequireDefault(_modelObj);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t\tdata: function data() {\n\t\t\treturn {\n\t\t\t\tresult: {},\n\t\t\t\tpage: 1,\n\t\t\t\tsearch: _modelObj2.default.search\n\t\t\t};\n\t\t},\n\t\tcreated: function created() {\n\t\t\tvar that = this;\n\t\t\tvar url = \"http://3g.d.cn/api/game/search.json?id=\" + _modelObj2.default.rId + \"&keyword=\" + _modelObj2.default.search + \"&type=news\" + \"&isHot=\" + _modelObj2.default.hot;\n\t\t\tthat.$http.jsonp(url).then(function (response) {\n\t\t\t\t// success\n\t\t\t\t//alert(\"ok\")\n\t\t\t\tconsole.log(response.data.news.data.length);\n\t\t\t\tif (response.data.news.data.length >= 20 && response.data.news.count > 20) {\n\t\t\t\t\tconsole.log(\"pullLoad\");\n\t\t\t\t\tthat.max = Math.ceil(response.data.news.count / 20);\n\t\t\t\t\tthat.pullLoad();\n\t\t\t\t}\n\t\t\t\tthat.result = response.data;\n\t\t\t}, function (response) {\n\t\t\t\t//error\n\t\t\t\tconsole.log(response);\n\t\t\t});\n\t\t},\n\t\n\t\tmethods: {\n\t\t\treturnF: function returnF(val) {\n\t\t\t\twindow.history.go(val);\n\t\t\t},\n\t\t\tpullLoad: function pullLoad() {\n\t\t\t\tvar that = this;\n\t\t\t\tthat.timer = null;\n\t\t\t\twindow.addEventListener(\"scroll\", that.loadF, false);\n\t\t\t},\n\t\t\tloadF: function loadF() {\n\t\t\t\tvar that = this;\n\t\t\t\tif (that.timer) {\n\t\t\t\t\tclearTimeout(that.timer);\n\t\t\t\t}\n\t\t\t\tthat.timer = setTimeout(function () {\n\t\t\t\t\t//console.log(window.screen.availHeight+document.body.scrollTop,document.body.clientHeight-100)\n\t\t\t\t\tif (window.screen.availHeight + document.body.scrollTop >= document.body.clientHeight - 100) {\n\t\t\t\t\t\tthat.page += 1;\n\t\t\t\t\t\tif (that.page <= that.max) {\n\t\t\t\t\t\t\tvar url = \"http://3g.d.cn/api/game/search.json?id=\" + _modelObj2.default.rId + \"&keyword=\" + _modelObj2.default.search + \"&type=news\" + \"&isHot=\" + _modelObj2.default.hot + \"&page=\" + that.page;\n\t\t\t\t\t\t\tthat.$http.jsonp(url).then(function (response) {\n\t\t\t\t\t\t\t\tdebugger;\n\t\t\t\t\t\t\t\tthat.result.news.data = that.result.news.data.concat(response.data.news.data);\n\t\t\t\t\t\t\t}, function (response) {\n\t\t\t\t\t\t\t\t//error\n\t\t\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//移除监听\n\t\t\t\t\t\t\twindow.removeEventListener(\"scroll\", that.loadF, false);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n\t\tprops: [\"searchVal\"],\n\t\tfilters: {\n\t\t\ttofixed: _modelObj2.default.tofixed,\n\t\t\thightLight: _modelObj2.default.hightLight,\n\t\t\tdateSlice: _modelObj2.default.dateSlice\n\t\t}\n\t\n\t};\n\t// </script>\n\t/* generated by vue-loader */\n\t// <template>\n\t// \t<section>\n\t// \t\t<div class=\"return-line clearfix\">\n\t// \t\t\t<a @touchend=\"returnF(-1)\" class=\"return-btn bg fl\" href=\"javascript:void(0)\" target=\"_self\"></a>\n\t// \t\t\t<span class=\"fl\">与\"{{search}}\"相关的攻略</span>\n\t// \t\t</div>\n\t// \t\t<ul v-if=\"result.news&&result.news.count>0\" class=\"news-list\">\n\t// \t\t\t<li v-for=\"onews in result.news.data\">\n\t// \t\t\t\t<a :class=\"[$index==result.news.data.length-1?'last':'']\" href=\"{{onews.url}}\" target=\"_blank\">\n\t// \t\t\t\t\t<h5>{{{onews.title}}}</h5>\n\t// \t\t\t\t\t<p>{{{onews.content}}}</p>\n\t// \t\t\t\t\t<p><span v-text=\"onews.date | dateSlice ' '\" class=\"time-icon\"></span><span class=\"views-icon\">{{onews.views}}次浏览</span></p>\n\t// \t\t\t\t</a>\n\t// \t\t\t</li>\n\t// \t\t</ul>\n\t// \t</section>\n\t// </template>\n\t// <script type=\"text/javascript\">\n\n/***/ },\n\n/***/ 15:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <section> <div class=\\\"return-line clearfix\\\"> <a @touchend=returnF(-1) class=\\\"return-btn bg fl\\\" href=javascript:void(0) target=_self></a> <span class=fl>与\\\"{{search}}\\\"相关的攻略</span> </div> <ul v-if=\\\"result.news&&result.news.count>0\\\" class=news-list> <li v-for=\\\"onews in result.news.data\\\"> <a :class=\\\"[$index==result.news.data.length-1?'last':'']\\\" href={{onews.url}} target=_blank> <h5>{{{onews.title}}}</h5> <p>{{{onews.content}}}</p> <p><span v-text=\\\"onews.date | dateSlice ' '\\\" class=time-icon></span><span class=views-icon>{{onews.views}}次浏览</span></p> </a> </li> </ul> </section> \";\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// listnews.js","var __vue_script__, __vue_template__\n__vue_script__ = require(\"-!babel-loader?presets[]=es2015&plugins[]=transform-runtime!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./list-news.vue\")\n__vue_template__ = require(\"-!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./list-news.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) { (typeof module.exports === \"function\" ? module.exports.options : module.exports).template = __vue_template__ }\nif (module.hot) {(function () {  module.hot.accept()\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), true)\n  if (!hotAPI.compatible) return\n  var id = \"G:\\\\webpack\\\\search-m\\\\src\\\\vue\\\\list-news.vue\"\n  if (!module.hot.data) {\n    hotAPI.createRecord(id, module.exports)\n  } else {\n    hotAPI.update(id, module.exports, __vue_template__)\n  }\n})()}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/vue/list-news.vue\n// module id = 13\n// module chunks = 1","<template>\r\n\t<section>\r\n\t\t<div class=\"return-line clearfix\">\r\n\t\t\t<a @touchend=\"returnF(-1)\" class=\"return-btn bg fl\" href=\"javascript:void(0)\" target=\"_self\"></a>\r\n\t\t\t<span class=\"fl\">与\"{{search}}\"相关的攻略</span>\r\n\t\t</div>\r\n\t\t<ul v-if=\"result.news&&result.news.count>0\" class=\"news-list\">\r\n\t\t\t<li v-for=\"onews in result.news.data\">\r\n\t\t\t\t<a :class=\"[$index==result.news.data.length-1?'last':'']\" href=\"{{onews.url}}\" target=\"_blank\">\r\n\t\t\t\t\t<h5>{{{onews.title}}}</h5>\r\n\t\t\t\t\t<p>{{{onews.content}}}</p>\r\n\t\t\t\t\t<p><span v-text=\"onews.date | dateSlice ' '\" class=\"time-icon\"></span><span class=\"views-icon\">{{onews.views}}次浏览</span></p>\r\n\t\t\t\t</a>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\t</section>\r\n</template>\r\n<script type=\"text/javascript\">\r\nimport modelObj from \"../js/modelObj.js\";\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tresult:{},\r\n\t\t\t\tpage:1,\r\n\t\t\t\tsearch:modelObj.search\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tlet that = this;\r\n\t\t\tlet url = \"http://3g.d.cn/api/game/search.json?id=\"+modelObj.rId+\"&keyword=\"+modelObj.search+\"&type=news\"+\"&isHot=\"+modelObj.hot;\r\n\t\t\tthat.$http.jsonp(url).then((response)=>{\r\n\t\t\t\t// success\r\n\t\t\t\t//alert(\"ok\")\r\n\t\t\t\tconsole.log(response.data.news.data.length)\r\n\t\t\t\tif((response.data.news.data.length)>=20&&(response.data.news.count)>20){\r\n\t\t\t\t\tconsole.log(\"pullLoad\")\r\n\t\t\t\t\tthat.max = Math.ceil(response.data.news.count/20);\r\n\t\t\t\t\tthat.pullLoad();\r\n\t\t\t\t}\r\n\t\t\t\tthat.result = response.data;\r\n\t\t\t},(response)=>{\r\n\t\t\t\t//error\r\n\t\t\t\tconsole.log(response)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\treturnF(val){\r\n\t\t\t\twindow.history.go(val)\r\n\t\t\t},\r\n\t\t\tpullLoad(){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthat.timer = null;\r\n\t\t\t\twindow.addEventListener(\"scroll\",that.loadF,false)\r\n\t\t\t},\r\n\t\t\tloadF(){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t\tif(that.timer){\r\n\t\t\t\t\t\tclearTimeout(that.timer);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.timer = setTimeout(function(){\r\n\t\t\t\t\t\t//console.log(window.screen.availHeight+document.body.scrollTop,document.body.clientHeight-100)\r\n\t\t\t\t\t\tif(window.screen.availHeight+document.body.scrollTop >= document.body.clientHeight-100){\r\n\t\t\t\t\t\t\tthat.page += 1;\r\n\t\t\t\t\t\t\tif(that.page<=that.max){\r\n\t\t\t\t\t\t\t\tlet url = \"http://3g.d.cn/api/game/search.json?id=\"+modelObj.rId+\"&keyword=\"+modelObj.search+\"&type=news\"+\"&isHot=\"+modelObj.hot+\"&page=\"+that.page;\r\n\t\t\t\t\t\t\t\tthat.$http.jsonp(url).then((response)=>{\r\n\t\t\t\t\t\t\t\t\tdebugger\r\n\t\t\t\t\t\t\t\t\tthat.result.news.data=that.result.news.data.concat(response.data.news.data);\r\n\t\t\t\t\t\t\t\t},(response)=>{\r\n\t\t\t\t\t\t\t\t\t//error\r\n\t\t\t\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t//移除监听\r\n\t\t\t\t\t\t\t\twindow.removeEventListener(\"scroll\",that.loadF,false);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},300)\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops:[\"searchVal\"],\r\n\t\tfilters:{\r\n\t\t\ttofixed:modelObj.tofixed,\r\n\t\t\thightLight:modelObj.hightLight,\r\n\t\t\tdateSlice:modelObj.dateSlice\r\n\t\t}\r\n\t\t\r\n\t}\n</script>\n\n\n// WEBPACK FOOTER //\n// list-news.vue?6a0264ae","module.exports = \" <section> <div class=\\\"return-line clearfix\\\"> <a @touchend=returnF(-1) class=\\\"return-btn bg fl\\\" href=javascript:void(0) target=_self></a> <span class=fl>与\\\"{{search}}\\\"相关的攻略</span> </div> <ul v-if=\\\"result.news&&result.news.count>0\\\" class=news-list> <li v-for=\\\"onews in result.news.data\\\"> <a :class=\\\"[$index==result.news.data.length-1?'last':'']\\\" href={{onews.url}} target=_blank> <h5>{{{onews.title}}}</h5> <p>{{{onews.content}}}</p> <p><span v-text=\\\"onews.date | dateSlice ' '\\\" class=time-icon></span><span class=views-icon>{{onews.views}}次浏览</span></p> </a> </li> </ul> </section> \";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/vue/list-news.vue\n// module id = 15\n// module chunks = 1"],"sourceRoot":""}