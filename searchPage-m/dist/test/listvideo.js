webpackJsonp([2],{16:function(e,t,o){var a,i;a=o(17),i=o(18),e.exports=a||{},e.exports.__esModule&&(e.exports=e.exports.default),i&&(("function"==typeof e.exports?e.exports.options:e.exports).template=i)},17:function(e,t,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=o(12),d=a(i);t.default={data:function(){return{page:1,result:{},search:d.default.search}},created:function(){var e=this;console.log(e);var t="http://3g.d.cn/api/game/search.json?id="+d.default.rId+"&keyword="+d.default.search+"&type=video&isHot="+d.default.hot;e.$http.jsonp(t).then(function(t){console.log(t.data.video.data.length,t.data.video.count),t.data.video.data.length>=20&&t.data.video.count>20&&(console.log("pullLoad"),e.max=Math.round(t.data.video.count/20),e.pullLoad()),e.result=t.data},function(e){console.log(e)})},methods:{returnF:function(e){window.history.go(e)},pullLoad:function(){var e=this;e.timer=null,window.addEventListener("scroll",e.loadF,!1)},loadF:function(){var e=this;e.timer&&clearTimeout(e.timer),e.timer=setTimeout(function(){if(window.screen.availHeight+document.body.scrollTop>=document.body.clientHeight-100)if(e.page+=1,e.page<=e.max){var t="http://3g.d.cn/api/game/search.json?id="+d.default.rId+"&keyword="+d.default.search+"&type=video&isHot="+d.default.hot+"&page="+e.page;e.$http.jsonp(t).then(function(t){e.result.video.data=e.result.video.data.concat(t.data.video.data)},function(e){console.log(e)})}else window.removeEventListener("scroll",e.loadF,!1)},300)}},filters:{tofixed:d.default.tofixed,hightLight:d.default.hightLight,dateSlice:d.default.dateSlice}}},18:function(e,t){e.exports=' <div class="return-line clearfix"> <a @touchend=returnF(-1) class="return-btn bg fl" href=javascript:void(0) target=_self></a> <span class=fl>与"{{search}}"相关的视频</span> </div> <ul v-if="result.video&&result.video.count>0" class=video-list> <li v-for="ovideo in result.video.data"> <a :class="[$index==result.video.data.length-1?\'last\':\'\']" class=clearfix href={{ovideo.url}} target=_blank> <div class=video-img> <img :src=ovideo.img /> <i class=bg></i> </div> <div class=video-info> <h5>{{{ovideo.title}}}</h5> <p><span v-text="ovideo.date | dateSlice \' \'" class=time-icon></span><span class=views-icon>{{ovideo.views}}次浏览</span></p> </div> </a> </li> </ul> '}});
//# sourceMappingURL=listvideo.js.map