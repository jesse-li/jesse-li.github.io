!function(){function n(){page2=$(".page-2").offset().top,page3=$(".page-3").offset().top,page4=$(".page-4").offset().top,page5=$(".page-5").offset().top}function e(){var n=$(".page-3-change").find("a"),o="curr";countForPage3>=3&&(countForPage3=0),n.eq(countForPage3).addClass(o).siblings().removeClass(o),countForPage3+=1,setTimeout(e,2e3)}var o=document.getElementsByTagName("video");scrollTimer=null,page1=0,page2=0,page3=0,page4=0,page5=0,countForPage3=0,o[1].currentTime=1,n(),$(window).on("resize",function(){n()}),$(window).on("scroll",function(){scrollTimer&&clearTimeout(scrollTimer),scrollTimer=setTimeout(function(){$(window).scrollTop()>=page1&&$(window).scrollTop()<page2/1.3?(console.log("1"),$(".nav-line").hide().find("li").removeClass("curr").eq(0).addClass("curr")):($(window).scrollTop()>=page2/1.3&&(console.log(2),$(".nav-line").hide().find("li").removeClass("curr").eq(1).addClass("curr"),$(".page-2").addClass("curr")),$(window).scrollTop()>=page3/1.1&&(console.log(3),$(".nav-line").hide().find("li").removeClass("curr").eq(2).addClass("curr"),$(".page-3").addClass("curr")),$(window).scrollTop()>=page4/1.1&&(console.log(4),$(".nav-line").hide().find("li").removeClass("curr").eq(3).addClass("curr"),$(".page-4").addClass("curr")),$(window).scrollTop()>=page5/1.1&&(console.log(5),$(".nav-line").hide().find("li").removeClass("curr").eq(4).addClass("curr"),$(".page-5").addClass("curr")),$(".nav-line").show())},100)}),$.fn.extend({animationEndFunction:function(n){var e="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";this.one(e,n)}}),$.fn.extend({transitionEndFunction:function(n){var e="webkitTransitionEnd otransitionend transitionend";this.on(e,n)}}),$(".page-1-img-1,.page-1-img-3,.page-2-img-3,.page-2-img-1,.page-2-img-2,.page-3-img-3,.page-3-img-4,.page-5-img-2,.page-5-img-3,.page-5-img-4,.ripple,.page-4-img-2,.page-4-img-3").animationEndFunction(function(){$(this).addClass("move")}),$(".page-3-change").find("a").animationEndFunction(function(){2===$(this).index()&&e()}),$(".page-2-box").animationEndFunction(function(){$(this).addClass("reset")}),$(".page-4-box-outer").find("img").transitionEndFunction(function(){-1!==$(this).css("transform").indexOf("-")&&$(this).removeClass("move").css("transform","translate3d(100%,0,0)")}),$(".page-2-box").find("img").on("click",function(){var n=$(this);n.hasClass("curr")||(n.parent().siblings().removeClass("curr"),n.attr("src",n.data("src")).parent().addClass("curr"))});var a={init:function(n){var n=n||{},e=this;this.moveObj=n.moveObj,this.count=0,this.start(),setTimeout(function(){e.moveF()},2e3)},start:function(){var n=this,e=0,o=n.moveObj.length;for(o;o>e;e+=1)0!==e&&n.moveObj.eq(e).css("transform","translate3d(100%, 0px, 0px)")},moveF:function(){var n=this;n.count>=n.moveObj.length-1?(n.moveObj.eq(n.count).addClass("move").css("transform","translate3d(-100%,0,0)"),n.moveObj.eq(0).addClass("move").css("transform","translate3d(0,0,0)"),n.count=-1):(n.moveObj.eq(n.count).addClass("move").css("transform","translate3d(-100%,0,0)"),n.moveObj.eq(n.count+1).addClass("move").css("transform","translate3d(0,0,0)")),setTimeout(function(){n.count+=1,n.moveF()},2e3)}};a.init({moveObj:$(".page-4-box-outer").find("img")}),$(".video-outer").find("a").on("click",function(){$(".video-pop,.banner").removeClass("hide"),$(".video-pop").find("video")[0].play()}),$(".video-pop").find("video").on("click",function(){$(this)[0].paused?$(this)[0].play():$(this)[0].pause()}),$(".video-pop a,.banner").on("click",function(){$(".video-pop").find("video")[0].pause(),$(".video-pop,.banner").addClass("hide")}),$(".nav-line").find("li").on("click",function(){var n=$(this);$("html,body").animate({scrollTop:$(".page-"+(n.index()+1)).offset().top})})}();